<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PORTFOLIO</title>
  <link rel="stylesheet" href="assets/css/section1.css" />
  <link rel="stylesheet" href="assets/css/section2.css" />
  <link rel="stylesheet" href="assets/css/section3.css" />
</head>

<body>
  <div id="section1">
    <div id="header">
      <div class="logo">
        <h1>FRONT+BACK</h1>
        <span>PORTFOLIO</span>
      </div>
      <div class="nav">
        <h1>MENU</h1>
      </div>
    </div>
    <div class="center">
      <div class="img1"></div>
      <div class="text t1">s</div>
      <div class="text t2">u</div>
      <div class="text t3">p</div>
      <div class="text t4">e</div>
      <div class="text t5">r</div>
      <div class="daewon">daewon</div>
      <div class="protfolio">protfolio</div>
    </div>
  </div>
  <div id="section2">
    <div class="img2">
      <div class="img2-1">
        <img src="./assets/img/section2-1.jpg" alt="#" />
      </div>
      <div class="img2-2">
        <img src="./assets/img/section2-2.jpg" alt="#" />
        <p>웹표준을 준수한 사이트 제작</p>
        <a href="#"></a>
      </div>
      <div class="img2-3">
        <img src="./assets/img/section2-3.jpg" alt="#" />
        <p>자바스크립트를 이용한 퀴즈 게임</p>
        <a href="#"></a>
      </div>
      <div class="img2-4">
        <img src="./assets/img/section2-4.jpg" alt="#" />
        <p>리액트와 API를 활용한 플레이 리스트 사이트</p>
        <a href="#"></a>
      </div>
      <div class="img2-5">
        <img src="./assets/img/section2-5.jpg" alt="#" />
        <p>NEXT.JS를 활용한 블로그 사이트</p>
        <a href="#"></a>
      </div>
      <div class="img2-6">
        <img src="./assets/img/section2-6.jpg" alt="#" />
        <p>VUE.JS를 활용하여 제작한 영화 차트 사이트</p>
        <a href="#"></a>
      </div>
      <div class="img2-7">
        <img src="./assets/img/section2-7.jpg" alt="#" />
      </div>
      <div class="img2-8">
        <img src="./assets/img/section2-8.jpg" alt="#" />
      </div>
      <div class="img2-9">
        <img src="./assets/img/section2-9.jpg" alt="#" />
      </div>
      <div class="img2-10">
        <img src="./assets/img/section2-10.jpg" alt="#" />
      </div>
      <div class="img2-11">
        <img src="./assets/img/section2-11.jpg" alt="#" />
      </div>
    </div>
    <div class="text2">
      <div class="text2-1">
        <h1 class="quote">html/css</h1>
      </div>
      <div class="text2-2">
        <h1 class="quote">javascript</h1>
      </div>
      <div class="text2-3">
        <h1 class="quote">react.js</h1>
      </div>
      <div class="text2-4">
        <h1 class="quote">next.js</h1>
      </div>
      <div class="text2-5">
        <h1 class="quote">node.js</h1>
      </div>
    </div>
    <div class="slide__bar">
      <span>
        <p>PORTFOLIO 2024 PORTFOLIO 2024 PORTFOLIO 2024</p>
      </span>
    </div>
  </div>
  <div id="section3"></div>
</body>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollToPlugin.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.22/bundled/lenis.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/SplitText.min.js"></script>
<script>
  const lenis = new Lenis();

  lenis.on("scroll", (e) => {
    console.log(e);
  });

  function raf(time) {
    lenis.raf(time);
    requestAnimationFrame(raf);
  }

  requestAnimationFrame(raf);

  const ani1 = gsap.timeline();

  ani1
    .to("#section1 .img1", { scale: 1, duration: 3, rotation: 360 })
    .to("#section1 .t1", { opacity: 1, duration: 3, xPercent: -250 }, 0.5)
    .to("#section1 .t2", { opacity: 1, duration: 3, xPercent: -140 }, 0.5)
    .to("#section1 .t3", { opacity: 1, duration: 3 }, 0.5)
    .to("#section1 .t4", { opacity: 1, duration: 3, xPercent: 50 }, 0.5)
    .to("#section1 .t5", { opacity: 1, duration: 3, xPercent: 170 }, 0.5)
    .to("#section1 .text", { scale: 0, duration: 3 })
    .to("#section1 .daewon", { rotation: 340, scale: 1, duration: 5 })
    .to("#section1 .daewon", { rotation: 360, scale: 0, duration: 5 }, "a")
    .to("#section1 .img1", { borderRadius: 0, scale: 1.5, duration: 5 }, "a")
    .to(
      "#section1 .protfolio",
      { scale: 2, duration: 5, y: "-25vh", color: "#fff" },
      "a"
    );

  ScrollTrigger.create({
    animation: ani1,
    trigger: "#section1",
    start: "top top",
    end: "+=10000",
    ease: "power1.inOut",
    scrub: 3,
    pin: true,
    anticipatePin: 1,
    markers: false,
  });

  function splitTextToSpans(element) {
    const text = element.textContent;
    const chars = text
      .split("")
      .map((char) => `<span>${char}</span>`)
      .join("");
    element.innerHTML = chars;
    return element.querySelectorAll("span");
  }

  // 각 text2-1, text2-2, text2-3, text2-4, text2-5 클래스 요소의 텍스트를 개별 span으로 나누기
  document.querySelectorAll(".text2 > div").forEach((textElement, index) => {
    const quoteElement = textElement.querySelector(".quote");
    const words = splitTextToSpans(quoteElement);

    var tl = gsap.timeline({
      scrollTrigger: {
        trigger: textElement,
        ease: "power1.inOut",
        start: "top center",
        end: "bottom 30%",
        scrub: 3,
        markers: true,
      },
    });

    gsap.set(quoteElement, { perspective: 400 });

    tl.to(words, {
      duration: 5,
      "--weight": "900",
      ease: "none",
    });

    if (index === 0) {
      // tl.to("#section2 .img2-1", { x: 100, y: 100, duration: 5 }, 0);
      tl.to("#section2 .img2-2", { x: "3vw", y: "4vh", duration: 2 }, 0);
      // tl.to("#section2 .img2-8", { x: 200, duration: 5 }, 0);
    } else if (index === 1) {
      tl.to("#section2 .img2-3", { x: "-4vw", duration: 2 }, 0);
    } else if (index === 2) {
      tl.to("#section2 .img2-4", { x: "4vw", y: "4vw", duration: 2 }, 0);
      // tl.to("#section2 .img2-9", { x: -50, y: -"4vw", duration: 5 }, 0.3);
    } else if (index === 3) {
      tl.to("#section2 .img2-5", { x: "-5vw", y: "4vw", duration: 2 }, 0);
    } else if (index === 4) {
      tl.to("#section2 .img2-6", { x: "4vw", y: "5vw", duration: 2 }, 0);
      tl.to("#section2 .slide__bar p", { x: "-40vw", duration: 10 });
    }
  });
</script>

</html>