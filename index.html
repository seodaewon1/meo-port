<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAEWON-PORTFOLIO</title>
  <link rel="stylesheet" href="./assets/css/style.css" />
  <link href="https://webfontworld.github.io/gmarket/GmarketSans.css" rel="stylesheet" />
</head>

<body>
  <div id="main__gsap">
    <div id="header">
      <div class="logo">
        <h1>FRONT+BACK</h1>
        <span>PORTFOLIO</span>
      </div>
      <div class="nav">
        <h1>MENU</h1>
      </div>
    </div>
    <div id="section1">
      <div class="center">
        <div class="img"></div>
        <div class="text1">super</div>
        <div class="text2">creative</div>
        <div class="text3">daewon</div>
      </div>
      <div class="img2024"></div>
    </div>
    <div id="section2">
      <div class="center">
        <div class="img2">
          <div class="img2-1">
            <img src="/assets/img/section2-1.jpg" alt="#" />
          </div>
          <div class="img2-2">
            <img src="/assets/img/section2-2.jpg" alt="#" />
            <p>웹표준을 준수한 사이트 제작</p>
            <a href="#"> </a>
          </div>
          <div class="img2-3">
            <img src="/assets/img/section2-3.jpg" alt="#" />
            <p>자바스크립트를 이용한 퀴즈 게임</p>
            <a href="#"><span class="svg"></span></a>
          </div>
          <div class="img2-4">
            <img src="/assets/img/section2-4.jpg" alt="#" />
            <p>리액트와 API를 활용한 플레이 리스트 사이트</p>
            <a href="#"> </a>
          </div>
          <div class="img2-5">
            <img src="/assets/img/section2-5.jpg" alt="#" />
            <p>NEXT.JS를 활용한 블로그 사이트</p>
            <a href="#"></a>
          </div>
          <div class="img2-6">
            <img src="/assets/img/section2-6.jpg" alt="#" />
            <p>VUE.JS를 활용하여 제작한 영화 차트 사이트</p>
            <a href="#"></a>
          </div>
          <div class="img2-7">
            <img src="/assets/img/section2-7.jpg" alt="#" />
          </div>
        </div>

        <div class="s_text2">
          <div class="text2-1">
            <h1 class="quote">
              html/css
            </h1>
          </div>
          <div class="text2-2">
            <h1 class="quote">javascript</h1>
          </div>
          <div class="text2-3">
            <h1 class="quote">react.js</h1>
          </div>
          <div class="text2-4">
            <h1 class="quote">next.js</h1>
          </div>
          <div class="text2-5">
            <h1 class="quote">node.js</h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollToPlugin.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.22/bundled/lenis.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/SplitText.min.js"></script>
  <script>
    const lenis = new Lenis();

    lenis.on("scroll", (e) => {
      console.log(e);
    });

    function raf(time) {
      lenis.raf(time);
      requestAnimationFrame(raf);
    }

    requestAnimationFrame(raf);

    const ani1 = gsap.timeline();

    ani1
      .to("#section1 .center .img", { rotation: 360, scale: 1 })
      .to("#section1 .center .text1", { rotation: 360, scale: 0, duration: 1 }, 0)
      .to("#section1 .center .text2", { rotation: 370, scale: 1, duration: 1 }, 0.5)
      .to("#section1 .center .text3", { rotation: -370, scale: 1, duration: 1 }, 0.5)
      .to("#section1 .img2024", { y: -200, duration: 1 }, 0.6);

    ScrollTrigger.create({
      animation: ani1,
      trigger: "#section1",
      start: "top top",
      end: "+=10000",
      ease: "power1.inOut",
      scrub: true,
      pin: true,
      anticipatePin: 1,
      markers: false,
    });

    const ani2 = gsap.timeline();

    ani2
      .to("#section2 .center .img2-1", { x: -100, y: -100 })
      .to("#section2 .center .img2-2", { x: -100, y: -100 })
      .to("#section2 .center .img2-3", { x: -100, y: -100 })
      .to("#section2 .center .img2-4", { x: -100, y: -100 })


    ScrollTrigger.create({
      animation: ani2,
      trigger: "#section2",
      start: "top top",
      end: "bottom 20%",
      ease: "power1.inOut",
      scrub: true,
      pin: true,
      anticipatePin: 1,
      markers: false,
    });

    function splitTextToSpans(element) {
      const text = element.textContent;
      const chars = text.split('').map(char => `<span>${char}</span>`).join('');
      element.innerHTML = chars;
      return element.querySelectorAll('span');
    }

    // 각 text2-1, text2-2, text2-3, text2-4, text2-5 클래스 요소의 텍스트를 개별 span으로 나누기
    document.querySelectorAll('.s_text2 > div').forEach((textElement, index) => {
      const quoteElement = textElement.querySelector('.quote');
      const words = splitTextToSpans(quoteElement);

      var tl = gsap.timeline({
        scrollTrigger: {
          trigger: textElement,
          start: "top 80%",
          end: "bottom 20%",
          scrub: true,
          markers: true
        }
      });

      gsap.set(quoteElement, { perspective: 400 });

      tl.to(words, {
        duration: 1,
        "--weight": "900",
        ease: "none",
        stagger: 0.1
      },);
    });
  </script>
</body>

</html>